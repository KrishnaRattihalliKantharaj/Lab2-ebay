<!DOCTYPE html>
<html>
<head>
    <title>eBay</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.0/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="js/main.js" type="text/javascript"></script>
</head>
   <body style="background-color:#F6F6F6" ng-app="mainPageApp" ng-controller="mainPageController" >
      <!--Start of navbar-->
      <nav class="navbar navbar-default" style="height:10px;background-color:white">
         <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
               <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
               <span class="sr-only">Toggle navigation</span>
               <span class="icon-bar"></span>
               <span class="icon-bar"></span>
               <span class="icon-bar"></span>
               </button>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
               <ul class="nav navbar-nav">
                  <li class="dropdown">
                     <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><%=firstName%><span class="caret"></span></a>
                     <ul class="dropdown-menu">
                        <li><a href="/profile">Profile</a></li>
                        <li><a href="#">My collection</a></li>
                        <li><a href="#">Account Settings</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="/logout">Sign Out</a></li>
                     </ul>
                  </li>
                  <li><a href="#">Daily Deals <span class="sr-only">(current)</span></a></li>
                  <li><a href="#">Gift Cards</a></li>
                  <li><a href="#">Sell</a></li>
                  <li><a href="#">Help & Contact</a></li>
               </ul>
               <ul class="nav navbar-nav navbar-right">
                  <li class="dropdown">
                     <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">MyeBay</a>
                     <ul class="dropdown-menu">
                        <li><a href="#">Profile</a></li>
                        <li><a href="#">My collection</a></li>
                        <li><a href="#">Account Settings</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="/logout">Sign Out</a></li>
                     </ul>
                  </li>
                  <li><a href="/ebayCart">Cart</a></li>
               </ul>
            </div>
            <!-- /.navbar-collapse -->
         </div>
         <!-- /.container-fluid -->
      </nav>
      <!--End of navbar-->
      <!--start of search icon-->
      <div class="row" style="margin-top:-10px">
         <div class="col-sm-3"><a href="/ebay"><img src="images/ebay.png"  width="175px" height="45px" style="float:right;margin-right: 5px" ></a></div>
         <div class="col-sm-5">
            <input type="text" class="form-control" placeholder="Search" style="width:100%;height:40px">
         </div>
         <button type="submit" class="btn btn-primary" style="height:40px">Search</button> <span style="margin-left:20px">Advanced</span><span style="margin-left:10px">last login:{{lastLogin}} Sun Nov 06 2016 13:40:54  </span>
      </div>
      </div>
      <!--End of search icon-->
      <!-- start of another navbar-->
      <div class="row">
         <div class="col-sm-1"></div>
         <div class="col-sm-7">
            <div class="container">
               <nav class="navbar navbar-default">
                  <div class="container-fluid">
                     <div class="navbar-header">
                        <a class="navbar-brand" href="#"></a>
                     </div>
                     <ul class="nav navbar-nav">
                        <li><a href="#">Following</a></li>
                        <li><a href="#">Today</a></li>
                        <li><a href="#">Motors</a></li>
                        <li><a href="#">Fashion</a></li>
                        <li><a href="#">Electronics</a></li>
                        <li><a href="#">Collectibles & Art</a></li>
                        <li><a href="#">Sporting Goods</a></li>
                        <li><a href="#">Toys</a></li>
                        <li><a href="#">Business & Industrial</a></li>
                        <li><a href="#">Music</a></li>
                        <li><a href="#">Deals</a></li>
                     </ul>
                  </div>
               </nav>
            </div>
         </div>
         <div class="col-sm-3"></div>
      </div>
      <!--End of another navbar-->
      <!-- start of Carousel -->
      <div class="row">
         <div class="col-sm-1"></div>
         <div class="col-sm-4" style="float:left;">
            <div class="container" style="width:700px;height:345px">
               <br>
               <div id="myCarousel" class="carousel slide" data-ride="carousel">
                  <!-- Indicators -->
                  <ol class="carousel-indicators">
                     <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                     <li data-target="#myCarousel" data-slide-to="1"></li>
                     <li data-target="#myCarousel" data-slide-to="2"></li>
                     <li data-target="#myCarousel" data-slide-to="3"></li>
                  </ol>
                  <!-- Wrapper for slides -->
                  <div class="carousel-inner" role="listbox" width="100%" height="345px" >
                     <div class="item active">
                        <img src="images/laptop.jpg" alt="Chania" width="100%" height="345px">
                        <div class="carousel-caption">
                           <h3>Dell XPS-15</h3>
                           <p>A great product from Dell</p>
                        </div>
                     </div>
                     <div class="item">
                        <img src="images/iPhone7.jpg" alt="Chania" width="100%" height="345px">
                        <div class="carousel-caption">
                           <h3>Iphone 7</h3>
                           <p>iPhone 7 dramatically improves the most important aspects of the iPhone experience</p>
                        </div>
                     </div>
                     <div class="item">
                        <img src="images/Dress.jpg" alt="Flower" width="100%" height="345px">
                        <div class="carousel-caption">
                           <h3>Prom Dress</h3>
                           <p> prom is a semi-formal dance or gathering of high school students</p>
                        </div>
                     </div>
                     <div class="item">
                        <img src="images/Headphone.jpg" alt="Flower" width="100%" height="345px">
                        <div class="carousel-caption">
                           <h3>Beats</h3>
                           <p> Beats headphones, featuring the Studio Wireless, Solo2, Solo3 Wireless.</p>
                        </div>
                     </div>
                  </div>
                  <!-- Left and right controls -->
                  <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
                  <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                  <span class="sr-only">Previous</span>
                  </a>
                  <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
                  <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                  <span class="sr-only">Next</span>
                  </a>
               </div>
            </div>
         </div>
      </div>
      <!--corousal End-->
      <br><br><br><br>

      <!-- start of the Add posting-->
      <div class="col-sm-1"></div>
      <div class="col-sm-10">
       <center><div class="alert alert-success" ng-show = "biddingSuccessDiv">
         <strong>bidding success and the time remaining is {{timer}}hrs</strong>
      </div>
      <div class="alert alert-danger" ng-show = "biddingFailureDiv">
         <strong>{{timer}}</strong>
      </div></center>
         <div class="row">
            <div  class = "col-sm-6" align="middle" ng-repeat="x in result">
               <div>
                  <div class="container" style="width: 100%; ">
                     <div class="panel panel-default">
                        <div class="panel-image hide-panel-body"><img src="{{x.prd_image}}" class="panel-image-preview" width="100%" height="200px"></div>
                        <div class="panel-body" style="height:150px;background-color:#e0e0d1">
                           <center>
                              <div>
                                 <font size="2">Details : </font><font size="2" color="#0088cc"> {{x.prd_desc}}</font>
                                 <font size="2" style="margin-left:15px">Price: {{x.prd_price}}</font>
                              </div>
                           </center>
                           <br>
                           <div class="row">
                              <font size="2" color="black">
                              <input type="number" class="form-control" placeholder="Quantity" style="width: 40%;float: left;margin-left:40px;margin-right: 10px" min="1" max="{{x.prd_quantity}}" ng-model="x.itemQuantity"></input>
                              
                              <input type = "number" ng-model = "x.biddingPrice" class = "form-control" placeholder = "Bidding Price" style = "width: 40%; float: left; margin-left:40px"
                              min = "{{x.prd_price}}" ng-show = "x.type == 'bid'"></input>

                              <div ng-show="x.type=='normal'"><p>fixed price</p></div>
                              
                              <input type="button" class="btn btn-info" style="width: 40%;margin-right:10px;margin-top:10px;float: left; " ng-click="eBayAddToCart(x.s_username,x.prd_name,x.prd_quantity,x.prd_desc,x._id,x.seller_handle,x.prd_price,x.itemQuantity)" ng-show="x.type=='normal'" value="Add To Cart"></input>
                              
                              <input type="button" class="btn btn-info" style="width: 40%;float: left;margin-left:40px;margin-top: 10px" ng-click="eBayPlaceBid(x.s_username,x.prd_name,x.prd_quantity,x.prd_desc,x._id,x.seller_handle,x.prd_price,x.itemQuantity,x.biddingPrice)" ng-show="x.type=='bid'" value="Place Bid"></input>

                              <input type="button" class="btn btn-info btn-log" style="width: 40%;float:right;margin-right:10px;margin-top: 10px" ng-click="eBayShowBidders(x.s_username,x.prd_name,x.prd_quantity,x.prd_desc,x._id,x.seller_handle,x.prd_price,x.itemQuantity,x.biddingPrice)" ng-show="x.type=='bid'" value="Show Bidders" data-toggle="modal" data-target="#myModal"></input>  

                              </font>
                           </div>
                        </div>
                        <div class="panel-body">
                           <div style="float:left;">
                              <font size="2" color="grey">{{x.prd_name}}</font>
                           </div>
                           <div style="float: left;margin-left: 70px">
                              <font size="2" color="grey">Quantity : {{x.prd_quantity}} : </font>
                           </div>
                           <div style="float:right;">
                              <font size="2" color="grey">seller Info: </font><font size="2" color="#0088cc">{{x.s_username}}</font>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <!-- End of the Add posting-->
      <!--show the users list for bidding-->
         <!-- Modal -->
      <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog">
         <!-- Modal content-->
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h4 class="modal-title">Bidders List</h4>
            </div>
              <div class="panel panel-default">
                  <div ng-repeat="k in result">
                      <div class="panel-body">
                              Buyer Name : {{k.buyer_uname}}  Bid Price : {{k.totalPrice}}
                      </div>
                  </div>  
              </div>
        </div>
      </div>
      <!--end the users list for bidding-->



   </body>
</html>